{"version":3,"file":"webStorage.esm.js","sources":["../src/errors.ts","../src/utils.ts","../src/FileStorageHelpers.ts","../src/LocalStorageHelpers.ts","../src/WebStorageModule.ts"],"sourcesContent":[null,null,null,null,null],"names":["WebStorageError","TkeyError","constructor","code","message","Object","defineProperty","value","fromCode","extraMessage","arguments","length","undefined","messages","default","unableToReadFromStorage","shareUnavailableInFileStorage","fileStorageUnavailable","localStorageUnavailable","shareUnavailableInLocalStorage","getWindow","window","self","Error","requestedBytes","download","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","requestQuota","Promise","resolve","reject","navigator","webkitPersistentStorage","browserRequestFileSystem","grantedBytes","win","requestFileSystem","webkitRequestFileSystem","PERSISTENT","getFile","fs","path","create","root","data","readFile","fileEntry","file","getShareFromFileStorage","key","fileStr","ShareStore","fromJSON","JSON","parse","storeShareOnFileStorage","share","fileName","stringify","createWriter","fileWriter","onwriteend","onerror","bb","Blob","type","write","canAccessFileStorage","permissions","query","name","storageAvailable","storage","x","setItem","removeItem","e","DOMException","storeShareOnLocalStorage","localStorage","getShareFromLocalStorage","foundFile","getItem","WEB_STORAGE_MODULE_NAME","WebStorageModule","canUseFileStorage","_defineProperty","moduleName","setFileStorageAccess","result","state","onchange","permissionChange","error","setModuleReferences","tbSDK","_setDeviceStorage","storeDeviceShare","bind","initialize","deviceShareStore","customDeviceInfo","metadata","getMetadata","tkeypubx","pubKey","toString","shareDescription","module","userAgent","dateAdded","Date","now","addShareDescription","shareIndex","storeDeviceShareOnFileStorage","shareStore","outputShareStore","BN","getDeviceShare","localErr","fileErr","_fileErr$message","includes","prettyPrintError","inputShareFromWebStorage","latestShareStore","getLatestPublicPolynomial","getPolynomialID","polynomialID","catchupToLatestShare","includeLocalMetadataTransitions","latestShare","inputShareStore"],"mappings":"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"}